
homeassistant:
  # Name of the location where Home Assistant is running
  name: Home
  # Location required to calculate the time the sun rises and sets
  latitude: 37.7471
  longitude: -121.118
  # Impacts weather/sunrise data (altitude above sea level in meters)
  elevation: 25
  # metric for Metric, imperial for Imperial
  unit_system: imperial
  # Pick yours from here: http://en.wikipedia.org/wiki/List_of_tz_database_time_zones
  time_zone: America/Los_Angeles

  # Customization file
  customize: !include customize.yaml

# Show links to resources in log and  frontend
#introduction:

# Enables the frontend
frontend:
  javascript_version: latest

# Enables configuration UI
config:

http:
  # Secrets are defined in the file secrets.yaml
  # api_password: !secret http_password
  # Uncomment this if you are using SSL/TLS, running in Docker container, etc.
  # base_url: example.duckdns.org:8123

# Checks for available updates
updater:

# Discover some devices automatically
discovery:
  enable:
    - homekit


# Allows you to issue voice commands from the frontend in enabled browsers
conversation:

# Enables support for tracking state changes over time
history:

# View all events in a logbook
logbook:

# Enables a map showing the location of tracked devices
map:

# Track the sun
sun:

# Weather prediction
sensor: !include sensors.yaml

# Text to speech
tts:
  - platform: google_translate

cloud:
  google_actions:
    filter:
      include_domains:
        - switch
        - light
        - cover
        - climate
      exclude_entities:
        - switch.outside
    entity_config:
      switch.christmas_lights_2:
        name: Christmas Tree Lights
        room: living room
      switch.outdoor_christmas_lights:
        name: Outdoor Lights
        aliases:
          - Christmas Lights

wemo:
  static:
    - 192.186.200.135
    - 192.168.200.147
    - 192.168.200.155
    - 192.168.200.168
mqtt:
  password: !secret mqtt_password

#group: !include groups.yaml

automation: !include automation.yaml

device_tracker: !include device_tracker.yaml

insteon:
  host: 192.168.200.169
  ip_port: 9761
  username: admin
  password: !secret insteon_password

ring:
  username: !secret ring_username
  password: !secret ring_password

climate:
  - platform: honeywell
    username: !secret honeywell_username
    password: !secret honeywell_password
    scan_interval: 300
    region: us

light: !include light.yaml

binary_sensor:
  - platform: ping
    host: 192.168.200.254
    name: HomeRouter
  - platform: ping
    host: 8.8.8.8
    name: GoogleDNS
  - platform: ping
    host: 1.1.1.1
    name: CloudFlareDNS
  - platform: ping
    host: 192.168.200.105
    name: FamilyRoomTV
  - platform: rpi_gpio
    ports:
      23: Garage Man Door
      24: Garage Door
  - platform: threshold
    entity_id: sensor.softener_salt
    upper: 60
    name: Softener Salt OK
#  - platform: bayesian
#    prior: 0.5
#    name: 'Luke Awake'
#    probability_threshold: 0.95
#    observations:
#      - platform: 'state'
#        entity_id: sensor.luke_s_room_motion
#        prob_given_true: 0.6
#        prob_given_false: 0.4
#        to_state: 'off'
#      - platform: 'state'
#        entity_id: sensor.luke_s_room_light_level
#        prob_given_true: 0.8
#        prob_given_false: 0.2
#        to_state:



switch: !include switch.yaml
  # - platform: rpi_gpio
  #   ports:
  #     18: Sprinkler Rain Mode

shell_command:
  github_pull: bash /home/homeassistant/.homeassistant/git pull

script:
  update_config:
    sequence:
      - service: shell_command.github_pull
      - service: homeassistant.restart

input_boolean:
  lights_out:
    name: Lights Out
    initial: off
    icon: mdi:lighthouse

lovelace:
  mode: yaml

camera:
  - platform: mjpeg
    mjpeg_url: http://192.168.200.153:8088/videostream.cgi
    name: Front Door
    username: admin
    password: !secret insteon_password
  - platform: ring
  - platform: onvif
    host: 192.168.200.190
    username: admin
    port: 8089
    name: Driveway
    password: !secret driveway_password
